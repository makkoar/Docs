# Начало работы с NeoForge

Этот раздел содержит информацию о том, как настроить рабочее пространство NeoForge, а также как запускать и тестировать ваш мод.

<a name="prerequisites"></a>

## Предварительные требования

*   Знание языка программирования Java, в частности его объектно-ориентированных, полиморфных, обобщенных (generic) и функциональных возможностей.
*   Установленный Java 21 Development Kit (JDK) и 64-битная Java Virtual Machine (JVM). NeoForge рекомендует и официально поддерживает [сборки OpenJDK от Microsoft](https://learn.microsoft.com/en-us/java/openjdk/download#openjdk-21), но любая другая JDK также должна работать.

> **Внимание:**
> Убедитесь, что вы используете 64-битную JVM. Один из способов проверить это — выполнить команду `java -version` в терминале. При использовании 32-битной JVM могут возникнуть проблемы, так как поддержка многих вещей для 32-битных JVM прекращена.

*   Знакомство с интегрированной средой разработки (IDE) по вашему выбору.
    *   NeoForge официально поддерживает [IntelliJ IDEA](https://www.jetbrains.com/idea/) и [Eclipse](https://www.eclipse.org/downloads/), обе из которых имеют встроенную поддержку Gradle. Однако можно использовать любую IDE, от Netbeans или Visual Studio Code до Vim или Emacs.
*   Знакомство с [Git](https://www.git-scm.com/) и [GitHub](https://github.com/). Технически это не обязательно, но значительно облегчит вам жизнь.

<a name="setting-up-the-workspace"></a>

## Настройка рабочего пространства

*   Откройте репозиторий Mod Developer Kit (MDK) (либо [ModDevGradle](https://github.com/NeoForgeMDKs/MDK-1.21.4-ModDevGradle), либо [NeoGradle](https://github.com/NeoForgeMDKs/MDK-1.21.4-NeoGradle)) на GitHub, нажмите "Use this template" (Использовать этот шаблон) и клонируйте вновь созданный репозиторий на ваш локальный компьютер.
    *   Если вы не хотите использовать GitHub или хотите получить шаблон для более старого коммита, вы также можете скачать ZIP-архив репозитория (Code -> Download ZIP) и распаковать его.
*   Откройте вашу IDE и импортируйте проект Gradle. Eclipse и IntelliJ IDEA сделают это автоматически. Если ваша IDE не делает этого, вы можете сделать это через терминальную команду `gradlew`.
    *   При первом выполнении Gradle загрузит все зависимости NeoForge, включая сам Minecraft, и декомпилирует их. Это может занять значительное время (до часа, в зависимости от вашего оборудования и скорости сети).
    *   Каждый раз, когда вы вносите изменения в файлы Gradle, изменения Gradle необходимо перезагрузить либо с помощью кнопки "Reload Gradle" в вашей IDE, либо снова через терминальную команду `gradlew`.

<a name="customizing-your-mod-information"></a>

## Настройка информации о вашем моде

Многие основные свойства вашего мода можно изменить в файле `gradle.properties`. Это включает базовые вещи, такие как название мода или его версия. Для получения дополнительной информации см. комментарии в файле `gradle.properties` или [документацию по файлу `gradle.properties`](./NeoForge/Getting%20Started/Mod%20Files.md#gradleproperties).

Если вы хотите изменить процесс сборки более глубоко, вы можете отредактировать файл `build.gradle`. NeoGradle, плагин Gradle для NeoForge, предоставляет несколько опций конфигурации, некоторые из которых объясняются в комментариях в файлах `build.gradle`. Полную документацию см. в [документации NeoGradle](./NeoGradle%20Documentation.md).

> **Внимание:**
> Редактируйте файлы `build.gradle` и `settings.gradle` только если вы знаете, что делаете. Все основные свойства можно установить через `gradle.properties`.

<a name="building-and-testing-your-mod"></a>

## Сборка и тестирование вашего мода

Чтобы собрать ваш мод, выполните команду `gradlew build`. Это создаст файл в `build/libs` с именем `<базовое имя архива>-<версия>.jar`. `<базовое имя архива>` и `<версия>` — это свойства, установленные в `build.gradle`, которые по умолчанию соответствуют значениям `mod_id` и `mod_version` в файле `gradle.properties` соответственно; это можно изменить в `build.gradle` при необходимости. Полученный JAR-файл затем можно поместить в папку `mods` установки Minecraft с NeoForge или загрузить на платформу распространения модов.

Чтобы запустить ваш мод в тестовой среде, вы можете использовать сгенерированные конфигурации запуска или связанные с ними задачи (например, `gradlew runClient`). Это запустит Minecraft из соответствующего каталога запуска (например, `runs/client` или `runs/server`), вместе с любыми указанными наборами исходного кода (source sets). MDK по умолчанию включает набор исходного кода `main`, поэтому любой код, написанный в `src/main/java`, будет применен.

<a name="server-testing"></a>

### Тестирование на сервере

Если вы запускаете выделенный сервер, будь то через конфигурацию запуска или командой `gradlew runServer`, сервер немедленно завершит работу. Вам нужно будет принять лицензионное соглашение Minecraft EULA, отредактировав файл `eula.txt` в каталоге запуска.

После принятия EULA сервер загрузится и станет доступен по адресу `localhost` (или `127.0.0.1` по умолчанию). Однако вы все еще не сможете подключиться, так как сервер по умолчанию будет работать в режиме online mode, который требует аутентификации (которой у игрока в среде разработки нет). Чтобы исправить это, снова остановите сервер и установите свойство `online-mode` в файле `server.properties` в значение `false`. Теперь запустите сервер, после чего вы сможете подключиться.

> **Совет:**
> Всегда тестируйте свой мод в среде выделенного сервера. Это касается и [модов только для клиента](../Concepts/Sides.md), поскольку важно убедиться, что они не вызывают проблем при загрузке на стороне сервера.
---
<div align="center"><table><tr><td align="center">Следующий раздел<br><a href="./NeoForge/Getting%20Started/Mod%20Files.md">Файлы мода</a></td></tr></table></div>
